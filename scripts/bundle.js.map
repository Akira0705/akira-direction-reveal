{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/direction-reveal.js","scripts/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","/**\n  direction aware content reveals.\n\n  @param {Object} object - 配置信息\n  @param {string} selector - 父元素选择器\n  @param {string} itemSelector - 子元素选择器\n  @param {string} animationName - 需要的动画名\n  @param {bollean} enableTouch  - 添加触摸事件（移动端）\n  @param {integer} touchThreshold - Touch length must be less than this to trigger reveal which prevents the event triggering if user is scrolling.\n*/\n\nconst DirectionReveal = function ({\n  selector: selector = '.direction-reveal',\n  itemSelector: itemSelector = '.direction-reveal__card',\n  animationName: animationName = 'swing',\n  enableTouch: enableTouch = true,\n  touchThreshold: touchThreshold = 250\n} = {}) {\n\n  const containers = document.querySelectorAll(selector)\n\n  function init() {\n    if (containers.length) {\n      containers.forEach(item => {\n        bindEvents(item)\n      })\n    } else {\n      return;\n    }\n  }\n  init()\n\n  function bindEvents(item) {\n    const items = item.querySelectorAll(itemSelector)\n\n    items.forEach(item => {\n      addEventListenerMulti(item, ['mouseenter', 'blur'], (e) => {\n        addClass(e, 'in')\n      })\n\n      addEventListenerMulti(item, ['mouseleave', 'blur'], (e) => {\n        addClass(e, 'out')\n      })\n\n      if (enableTouch) {\n\n        item.addEventListener('touchstart', (e) => {\n          this.touchStart = + new Date\n        }, { passive: true })\n\n        item.addEventListener('touchend', (e) => {\n          this.touchTime = + new Date - (this.touchStart)\n\n          if (this.touchTime < touchThreshold && !item.className.includes(`${animationName}--in`)) {\n            e.preventDefault();\n\n            resetVisible(e, items, addClass(e, 'in'))\n          }\n        })\n\n      }\n    })\n  }\n\n\n  function addClass(e, state) {\n    let currentItem = e.currentTarget\n    let direction = getDirection(e, currentItem)\n    let direactionString = translateDirection(direction)\n\n    let currentCssClasses = currentItem.className.split(' ')\n\n    let filteredCssClasses = currentCssClasses.filter(cssClass => !cssClass.startsWith(animationName)).join(' ')\n\n    currentItem.className = filteredCssClasses\n    currentItem.classList.add(`${animationName}--${state}-${direactionString}`)\n  }\n\n  // 获取鼠标移入元素的方向\n  function getDirection(e, item) {\n    let w = item.offsetWidth,\n        h = item.offsetHeight,\n        position = getPosition(item)\n\n    let x = (e.pageX - position.x - (w / 2) * (w > h ? (h / w) : 1)),\n        y = (e.pageY- position.y - (h / 2) * (h > w ? (w / h) : 1))\n\n    let d = Math.round(Math.atan2(y, x) / 1.57079633 + 5) % 4\n\n    return d\n  }\n\n  // 获取目标元素离文档的x,y距离\n  function getPosition(el){\n    let xPos = 0,\n        yPos = 0\n\n    while (el) {\n      xPos += (el.offsetLeft + el.clientLeft)\n      yPos += (el.offsetTop + el.clientTop)\n      el = el.offsetParent\n    }\n\n    return {\n      x: xPos,\n      y: yPos\n    }\n  }\n\n  const translateDirection = switchcase({\n    0: 'top',\n    1: 'right',\n    2: 'bottom',\n    3: 'left'\n  })('top')\n\n  function addEventListenerMulti(element, events, fn) {\n    events.forEach(e => {\n      element.addEventListener(e, fn)\n    })\n  }\n\n  return {\n    init\n  }\n}\n\nfunction switchcase(cases){\n  return  function (defaultCase){\n    return function (key) {\n      return key in cases ? cases[key] : defaultCase\n    }\n  }\n}\n\nexport default DirectionReveal\n\n\n","import DirectionReveal from './direction-reveal.js'\n\n// Swing animation(Default)\nconst directionRevealSwing = DirectionReveal({\n  selector: '.direction-reveal--demo-swing'\n});\n\n// Slide animation with all options specified\nconst directionRevealSlide = DirectionReveal({\n  selector: '.direction-reveal--demo-slide',\n  itemSelector: '.direction-reveal__card',\n  animationName: 'slide',\n  enableTouch: true,\n  touchThreshold: 250\n});\n\n// Slide & push\nconst directionRevealSlidePush = DirectionReveal({\n  selector: '.direction-reveal--demo-slide-push',\n  animationName: 'slide'\n});\n\n// Rotate animation\nconst directionRevealRotate = DirectionReveal({\n  selector: '.direction-reveal--demo-rotate',\n  animationName: 'rotate'\n});\n\n// Flip animation\nconst directionRevealFlip = DirectionReveal({\n  selector: '.direction-reveal--demo-flip',\n  animationName: 'flip'\n});\n\n// Bootstrap demo\nconst directionRevealBoostrap = DirectionReveal({\n  selector: '.direction-reveal--demo-bootstrap'\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRzL2RpcmVjdGlvbi1yZXZlYWwuanMiLCJzY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBOzs7Ozs7Ozs7OztBQVdBLElBQU0sa0JBQWtCLFNBQWxCLGVBQWtCLEdBTWhCO0FBQUEsaUZBQUosRUFBSTtBQUFBLDJCQUxOLFFBS007QUFBQSxNQUxJLFFBS0osaUNBTGUsbUJBS2Y7QUFBQSwrQkFKTixZQUlNO0FBQUEsTUFKUSxZQUlSLHFDQUp1Qix5QkFJdkI7QUFBQSxnQ0FITixhQUdNO0FBQUEsTUFIUyxhQUdULHNDQUh5QixPQUd6QjtBQUFBLDhCQUZOLFdBRU07QUFBQSxNQUZPLFdBRVAsb0NBRnFCLElBRXJCO0FBQUEsaUNBRE4sY0FDTTtBQUFBLE1BRFUsY0FDVix1Q0FEMkIsR0FDM0I7O0FBRU4sTUFBTSxhQUFhLFNBQVMsZ0JBQVQsQ0FBMEIsUUFBMUIsQ0FBbkI7O0FBRUEsV0FBUyxJQUFULEdBQWdCO0FBQ2QsUUFBSSxXQUFXLE1BQWYsRUFBdUI7QUFDckIsaUJBQVcsT0FBWCxDQUFtQixnQkFBUTtBQUN6QixtQkFBVyxJQUFYO0FBQ0QsT0FGRDtBQUdELEtBSkQsTUFJTztBQUNMO0FBQ0Q7QUFDRjtBQUNEOztBQUVBLFdBQVMsVUFBVCxDQUFvQixJQUFwQixFQUEwQjtBQUFBOztBQUN4QixRQUFNLFFBQVEsS0FBSyxnQkFBTCxDQUFzQixZQUF0QixDQUFkOztBQUVBLFVBQU0sT0FBTixDQUFjLGdCQUFRO0FBQ3BCLDRCQUFzQixJQUF0QixFQUE0QixDQUFDLFlBQUQsRUFBZSxNQUFmLENBQTVCLEVBQW9ELFVBQUMsQ0FBRCxFQUFPO0FBQ3pELGlCQUFTLENBQVQsRUFBWSxJQUFaO0FBQ0QsT0FGRDs7QUFJQSw0QkFBc0IsSUFBdEIsRUFBNEIsQ0FBQyxZQUFELEVBQWUsTUFBZixDQUE1QixFQUFvRCxVQUFDLENBQUQsRUFBTztBQUN6RCxpQkFBUyxDQUFULEVBQVksS0FBWjtBQUNELE9BRkQ7O0FBSUEsVUFBSSxXQUFKLEVBQWlCOztBQUVmLGFBQUssZ0JBQUwsQ0FBc0IsWUFBdEIsRUFBb0MsVUFBQyxDQUFELEVBQU87QUFDekMsZ0JBQUssVUFBTCxHQUFrQixDQUFFLElBQUksSUFBSixFQUFwQjtBQUNELFNBRkQsRUFFRyxFQUFFLFNBQVMsSUFBWCxFQUZIOztBQUlBLGFBQUssZ0JBQUwsQ0FBc0IsVUFBdEIsRUFBa0MsVUFBQyxDQUFELEVBQU87QUFDdkMsZ0JBQUssU0FBTCxHQUFpQixDQUFFLElBQUksSUFBSixFQUFGLEdBQWMsTUFBSyxVQUFwQzs7QUFFQSxjQUFJLE1BQUssU0FBTCxHQUFpQixjQUFqQixJQUFtQyxDQUFDLEtBQUssU0FBTCxDQUFlLFFBQWYsQ0FBMkIsYUFBM0IsVUFBeEMsRUFBeUY7QUFDdkYsY0FBRSxjQUFGOztBQUVBLHlCQUFhLENBQWIsRUFBZ0IsS0FBaEIsRUFBdUIsU0FBUyxDQUFULEVBQVksSUFBWixDQUF2QjtBQUNEO0FBQ0YsU0FSRDtBQVVEO0FBQ0YsS0ExQkQ7QUEyQkQ7O0FBR0QsV0FBUyxRQUFULENBQWtCLENBQWxCLEVBQXFCLEtBQXJCLEVBQTRCO0FBQzFCLFFBQUksY0FBYyxFQUFFLGFBQXBCO0FBQ0EsUUFBSSxZQUFZLGFBQWEsQ0FBYixFQUFnQixXQUFoQixDQUFoQjtBQUNBLFFBQUksbUJBQW1CLG1CQUFtQixTQUFuQixDQUF2Qjs7QUFFQSxRQUFJLG9CQUFvQixZQUFZLFNBQVosQ0FBc0IsS0FBdEIsQ0FBNEIsR0FBNUIsQ0FBeEI7O0FBRUEsUUFBSSxxQkFBcUIsa0JBQWtCLE1BQWxCLENBQXlCO0FBQUEsYUFBWSxDQUFDLFNBQVMsVUFBVCxDQUFvQixhQUFwQixDQUFiO0FBQUEsS0FBekIsRUFBMEUsSUFBMUUsQ0FBK0UsR0FBL0UsQ0FBekI7O0FBRUEsZ0JBQVksU0FBWixHQUF3QixrQkFBeEI7QUFDQSxnQkFBWSxTQUFaLENBQXNCLEdBQXRCLENBQTZCLGFBQTdCLFVBQStDLEtBQS9DLFNBQXdELGdCQUF4RDtBQUNEOztBQUVEO0FBQ0EsV0FBUyxZQUFULENBQXNCLENBQXRCLEVBQXlCLElBQXpCLEVBQStCO0FBQzdCLFFBQUksSUFBSSxLQUFLLFdBQWI7QUFBQSxRQUNJLElBQUksS0FBSyxZQURiO0FBQUEsUUFFSSxXQUFXLFlBQVksSUFBWixDQUZmOztBQUlBLFFBQUksSUFBSyxFQUFFLEtBQUYsR0FBVSxTQUFTLENBQW5CLEdBQXdCLElBQUksQ0FBTCxJQUFXLElBQUksQ0FBSixHQUFTLElBQUksQ0FBYixHQUFrQixDQUE3QixDQUFoQztBQUFBLFFBQ0ksSUFBSyxFQUFFLEtBQUYsR0FBUyxTQUFTLENBQWxCLEdBQXVCLElBQUksQ0FBTCxJQUFXLElBQUksQ0FBSixHQUFTLElBQUksQ0FBYixHQUFrQixDQUE3QixDQUQvQjs7QUFHQSxRQUFJLElBQUksS0FBSyxLQUFMLENBQVcsS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsSUFBbUIsVUFBbkIsR0FBZ0MsQ0FBM0MsSUFBZ0QsQ0FBeEQ7O0FBRUEsV0FBTyxDQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxXQUFTLFdBQVQsQ0FBcUIsRUFBckIsRUFBd0I7QUFDdEIsUUFBSSxPQUFPLENBQVg7QUFBQSxRQUNJLE9BQU8sQ0FEWDs7QUFHQSxXQUFPLEVBQVAsRUFBVztBQUNULGNBQVMsR0FBRyxVQUFILEdBQWdCLEdBQUcsVUFBNUI7QUFDQSxjQUFTLEdBQUcsU0FBSCxHQUFlLEdBQUcsU0FBM0I7QUFDQSxXQUFLLEdBQUcsWUFBUjtBQUNEOztBQUVELFdBQU87QUFDTCxTQUFHLElBREU7QUFFTCxTQUFHO0FBRkUsS0FBUDtBQUlEOztBQUVELE1BQU0scUJBQXFCLFdBQVc7QUFDcEMsT0FBRyxLQURpQztBQUVwQyxPQUFHLE9BRmlDO0FBR3BDLE9BQUcsUUFIaUM7QUFJcEMsT0FBRztBQUppQyxHQUFYLEVBS3hCLEtBTHdCLENBQTNCOztBQU9BLFdBQVMscUJBQVQsQ0FBK0IsT0FBL0IsRUFBd0MsTUFBeEMsRUFBZ0QsRUFBaEQsRUFBb0Q7QUFDbEQsV0FBTyxPQUFQLENBQWUsYUFBSztBQUNsQixjQUFRLGdCQUFSLENBQXlCLENBQXpCLEVBQTRCLEVBQTVCO0FBQ0QsS0FGRDtBQUdEOztBQUVELFNBQU87QUFDTDtBQURLLEdBQVA7QUFHRCxDQWxIRDs7QUFvSEEsU0FBUyxVQUFULENBQW9CLEtBQXBCLEVBQTBCO0FBQ3hCLFNBQVEsVUFBVSxXQUFWLEVBQXNCO0FBQzVCLFdBQU8sVUFBVSxHQUFWLEVBQWU7QUFDcEIsYUFBTyxPQUFPLEtBQVAsR0FBZSxNQUFNLEdBQU4sQ0FBZixHQUE0QixXQUFuQztBQUNELEtBRkQ7QUFHRCxHQUpEO0FBS0Q7O2tCQUVjLGU7Ozs7O0FDdklmOzs7Ozs7QUFFQTtBQUNBLElBQU0sdUJBQXVCLCtCQUFnQjtBQUMzQyxZQUFVO0FBRGlDLENBQWhCLENBQTdCOztBQUlBO0FBQ0EsSUFBTSx1QkFBdUIsK0JBQWdCO0FBQzNDLFlBQVUsK0JBRGlDO0FBRTNDLGdCQUFjLHlCQUY2QjtBQUczQyxpQkFBZSxPQUg0QjtBQUkzQyxlQUFhLElBSjhCO0FBSzNDLGtCQUFnQjtBQUwyQixDQUFoQixDQUE3Qjs7QUFRQTtBQUNBLElBQU0sMkJBQTJCLCtCQUFnQjtBQUMvQyxZQUFVLG9DQURxQztBQUUvQyxpQkFBZTtBQUZnQyxDQUFoQixDQUFqQzs7QUFLQTtBQUNBLElBQU0sd0JBQXdCLCtCQUFnQjtBQUM1QyxZQUFVLGdDQURrQztBQUU1QyxpQkFBZTtBQUY2QixDQUFoQixDQUE5Qjs7QUFLQTtBQUNBLElBQU0sc0JBQXNCLCtCQUFnQjtBQUMxQyxZQUFVLDhCQURnQztBQUUxQyxpQkFBZTtBQUYyQixDQUFoQixDQUE1Qjs7QUFLQTtBQUNBLElBQU0sMEJBQTBCLCtCQUFnQjtBQUM5QyxZQUFVO0FBRG9DLENBQWhCLENBQWhDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCIvKipcbiAgZGlyZWN0aW9uIGF3YXJlIGNvbnRlbnQgcmV2ZWFscy5cblxuICBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0g6YWN572u5L+h5oGvXG4gIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIOeItuWFg+e0oOmAieaLqeWZqFxuICBAcGFyYW0ge3N0cmluZ30gaXRlbVNlbGVjdG9yIC0g5a2Q5YWD57Sg6YCJ5oup5ZmoXG4gIEBwYXJhbSB7c3RyaW5nfSBhbmltYXRpb25OYW1lIC0g6ZyA6KaB55qE5Yqo55S75ZCNXG4gIEBwYXJhbSB7Ym9sbGVhbn0gZW5hYmxlVG91Y2ggIC0g5re75Yqg6Kem5pG45LqL5Lu277yI56e75Yqo56uv77yJXG4gIEBwYXJhbSB7aW50ZWdlcn0gdG91Y2hUaHJlc2hvbGQgLSBUb3VjaCBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gdGhpcyB0byB0cmlnZ2VyIHJldmVhbCB3aGljaCBwcmV2ZW50cyB0aGUgZXZlbnQgdHJpZ2dlcmluZyBpZiB1c2VyIGlzIHNjcm9sbGluZy5cbiovXG5cbmNvbnN0IERpcmVjdGlvblJldmVhbCA9IGZ1bmN0aW9uICh7XG4gIHNlbGVjdG9yOiBzZWxlY3RvciA9ICcuZGlyZWN0aW9uLXJldmVhbCcsXG4gIGl0ZW1TZWxlY3RvcjogaXRlbVNlbGVjdG9yID0gJy5kaXJlY3Rpb24tcmV2ZWFsX19jYXJkJyxcbiAgYW5pbWF0aW9uTmFtZTogYW5pbWF0aW9uTmFtZSA9ICdzd2luZycsXG4gIGVuYWJsZVRvdWNoOiBlbmFibGVUb3VjaCA9IHRydWUsXG4gIHRvdWNoVGhyZXNob2xkOiB0b3VjaFRocmVzaG9sZCA9IDI1MFxufSA9IHt9KSB7XG5cbiAgY29uc3QgY29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoY29udGFpbmVycy5sZW5ndGgpIHtcbiAgICAgIGNvbnRhaW5lcnMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgYmluZEV2ZW50cyhpdGVtKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpbml0KClcblxuICBmdW5jdGlvbiBiaW5kRXZlbnRzKGl0ZW0pIHtcbiAgICBjb25zdCBpdGVtcyA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbChpdGVtU2VsZWN0b3IpXG5cbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lck11bHRpKGl0ZW0sIFsnbW91c2VlbnRlcicsICdibHVyJ10sIChlKSA9PiB7XG4gICAgICAgIGFkZENsYXNzKGUsICdpbicpXG4gICAgICB9KVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyTXVsdGkoaXRlbSwgWydtb3VzZWxlYXZlJywgJ2JsdXInXSwgKGUpID0+IHtcbiAgICAgICAgYWRkQ2xhc3MoZSwgJ291dCcpXG4gICAgICB9KVxuXG4gICAgICBpZiAoZW5hYmxlVG91Y2gpIHtcblxuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgICAgIHRoaXMudG91Y2hTdGFydCA9ICsgbmV3IERhdGVcbiAgICAgICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pXG5cbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgdGhpcy50b3VjaFRpbWUgPSArIG5ldyBEYXRlIC0gKHRoaXMudG91Y2hTdGFydClcblxuICAgICAgICAgIGlmICh0aGlzLnRvdWNoVGltZSA8IHRvdWNoVGhyZXNob2xkICYmICFpdGVtLmNsYXNzTmFtZS5pbmNsdWRlcyhgJHthbmltYXRpb25OYW1lfS0taW5gKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICByZXNldFZpc2libGUoZSwgaXRlbXMsIGFkZENsYXNzKGUsICdpbicpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGUsIHN0YXRlKSB7XG4gICAgbGV0IGN1cnJlbnRJdGVtID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgbGV0IGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihlLCBjdXJyZW50SXRlbSlcbiAgICBsZXQgZGlyZWFjdGlvblN0cmluZyA9IHRyYW5zbGF0ZURpcmVjdGlvbihkaXJlY3Rpb24pXG5cbiAgICBsZXQgY3VycmVudENzc0NsYXNzZXMgPSBjdXJyZW50SXRlbS5jbGFzc05hbWUuc3BsaXQoJyAnKVxuXG4gICAgbGV0IGZpbHRlcmVkQ3NzQ2xhc3NlcyA9IGN1cnJlbnRDc3NDbGFzc2VzLmZpbHRlcihjc3NDbGFzcyA9PiAhY3NzQ2xhc3Muc3RhcnRzV2l0aChhbmltYXRpb25OYW1lKSkuam9pbignICcpXG5cbiAgICBjdXJyZW50SXRlbS5jbGFzc05hbWUgPSBmaWx0ZXJlZENzc0NsYXNzZXNcbiAgICBjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKGAke2FuaW1hdGlvbk5hbWV9LS0ke3N0YXRlfS0ke2RpcmVhY3Rpb25TdHJpbmd9YClcbiAgfVxuXG4gIC8vIOiOt+WPlum8oOagh+enu+WFpeWFg+e0oOeahOaWueWQkVxuICBmdW5jdGlvbiBnZXREaXJlY3Rpb24oZSwgaXRlbSkge1xuICAgIGxldCB3ID0gaXRlbS5vZmZzZXRXaWR0aCxcbiAgICAgICAgaCA9IGl0ZW0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKGl0ZW0pXG5cbiAgICBsZXQgeCA9IChlLnBhZ2VYIC0gcG9zaXRpb24ueCAtICh3IC8gMikgKiAodyA+IGggPyAoaCAvIHcpIDogMSkpLFxuICAgICAgICB5ID0gKGUucGFnZVktIHBvc2l0aW9uLnkgLSAoaCAvIDIpICogKGggPiB3ID8gKHcgLyBoKSA6IDEpKVxuXG4gICAgbGV0IGQgPSBNYXRoLnJvdW5kKE1hdGguYXRhbjIoeSwgeCkgLyAxLjU3MDc5NjMzICsgNSkgJSA0XG5cbiAgICByZXR1cm4gZFxuICB9XG5cbiAgLy8g6I635Y+W55uu5qCH5YWD57Sg56a75paH5qGj55qEeCx56Led56a7XG4gIGZ1bmN0aW9uIGdldFBvc2l0aW9uKGVsKXtcbiAgICBsZXQgeFBvcyA9IDAsXG4gICAgICAgIHlQb3MgPSAwXG5cbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIHhQb3MgKz0gKGVsLm9mZnNldExlZnQgKyBlbC5jbGllbnRMZWZ0KVxuICAgICAgeVBvcyArPSAoZWwub2Zmc2V0VG9wICsgZWwuY2xpZW50VG9wKVxuICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnRcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogeFBvcyxcbiAgICAgIHk6IHlQb3NcbiAgICB9XG4gIH1cblxuICBjb25zdCB0cmFuc2xhdGVEaXJlY3Rpb24gPSBzd2l0Y2hjYXNlKHtcbiAgICAwOiAndG9wJyxcbiAgICAxOiAncmlnaHQnLFxuICAgIDI6ICdib3R0b20nLFxuICAgIDM6ICdsZWZ0J1xuICB9KSgndG9wJylcblxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyTXVsdGkoZWxlbWVudCwgZXZlbnRzLCBmbikge1xuICAgIGV2ZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGUsIGZuKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGluaXRcbiAgfVxufVxuXG5mdW5jdGlvbiBzd2l0Y2hjYXNlKGNhc2VzKXtcbiAgcmV0dXJuICBmdW5jdGlvbiAoZGVmYXVsdENhc2Upe1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4ga2V5IGluIGNhc2VzID8gY2FzZXNba2V5XSA6IGRlZmF1bHRDYXNlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERpcmVjdGlvblJldmVhbFxuXG5cbiIsImltcG9ydCBEaXJlY3Rpb25SZXZlYWwgZnJvbSAnLi9kaXJlY3Rpb24tcmV2ZWFsLmpzJ1xuXG4vLyBTd2luZyBhbmltYXRpb24oRGVmYXVsdClcbmNvbnN0IGRpcmVjdGlvblJldmVhbFN3aW5nID0gRGlyZWN0aW9uUmV2ZWFsKHtcbiAgc2VsZWN0b3I6ICcuZGlyZWN0aW9uLXJldmVhbC0tZGVtby1zd2luZydcbn0pO1xuXG4vLyBTbGlkZSBhbmltYXRpb24gd2l0aCBhbGwgb3B0aW9ucyBzcGVjaWZpZWRcbmNvbnN0IGRpcmVjdGlvblJldmVhbFNsaWRlID0gRGlyZWN0aW9uUmV2ZWFsKHtcbiAgc2VsZWN0b3I6ICcuZGlyZWN0aW9uLXJldmVhbC0tZGVtby1zbGlkZScsXG4gIGl0ZW1TZWxlY3RvcjogJy5kaXJlY3Rpb24tcmV2ZWFsX19jYXJkJyxcbiAgYW5pbWF0aW9uTmFtZTogJ3NsaWRlJyxcbiAgZW5hYmxlVG91Y2g6IHRydWUsXG4gIHRvdWNoVGhyZXNob2xkOiAyNTBcbn0pO1xuXG4vLyBTbGlkZSAmIHB1c2hcbmNvbnN0IGRpcmVjdGlvblJldmVhbFNsaWRlUHVzaCA9IERpcmVjdGlvblJldmVhbCh7XG4gIHNlbGVjdG9yOiAnLmRpcmVjdGlvbi1yZXZlYWwtLWRlbW8tc2xpZGUtcHVzaCcsXG4gIGFuaW1hdGlvbk5hbWU6ICdzbGlkZSdcbn0pO1xuXG4vLyBSb3RhdGUgYW5pbWF0aW9uXG5jb25zdCBkaXJlY3Rpb25SZXZlYWxSb3RhdGUgPSBEaXJlY3Rpb25SZXZlYWwoe1xuICBzZWxlY3RvcjogJy5kaXJlY3Rpb24tcmV2ZWFsLS1kZW1vLXJvdGF0ZScsXG4gIGFuaW1hdGlvbk5hbWU6ICdyb3RhdGUnXG59KTtcblxuLy8gRmxpcCBhbmltYXRpb25cbmNvbnN0IGRpcmVjdGlvblJldmVhbEZsaXAgPSBEaXJlY3Rpb25SZXZlYWwoe1xuICBzZWxlY3RvcjogJy5kaXJlY3Rpb24tcmV2ZWFsLS1kZW1vLWZsaXAnLFxuICBhbmltYXRpb25OYW1lOiAnZmxpcCdcbn0pO1xuXG4vLyBCb290c3RyYXAgZGVtb1xuY29uc3QgZGlyZWN0aW9uUmV2ZWFsQm9vc3RyYXAgPSBEaXJlY3Rpb25SZXZlYWwoe1xuICBzZWxlY3RvcjogJy5kaXJlY3Rpb24tcmV2ZWFsLS1kZW1vLWJvb3RzdHJhcCdcbn0pO1xuIl19"}